"use strict";angular.module("app",["ui.router","ngAnimate","ngTouch","ui.bootstrap","app.components","app.services.BookService","app.services.ConfigurationService","app.services.UtilService","app.routes.home","app.routes.books","app.routes.categories"]).config(["$locationProvider",function(e){e.html5Mode(!0)}]).run(["$rootScope","$http","AppConfig","ConfigurationService","$log",function(e,t,o,r,a){t.defaults.headers.common["app-key"]=o.api_key,r.getConfig().then(function(e){angular.extend(o,e),a.info("[app.js] Configuration fetched.")}).catch(function(e){a.error("[app.js] error",e)}),e.$on("$stateChangeStart",function(e,t,o,r,n){a.info("[app.js] $stateChangeStart")}),e.$on("$stateChangeSuccess",function(e,t,o,r){a.info("[app.js] $stateChangeSuccess")})}]);var _nabvarDirective=function(e){function t(e,t,o){console.log("Todo Something")}return{restrict:"E",templateUrl:"partials/directives/navbar",replace:!0,link:t}};angular.module("app.components",[]).directive("navBar",["$rootScope",_nabvarDirective]);var _AppConfig=function(){var e={api_key:"48rXl9ZG7dm0EAWez4Ls3LyFYVA0g8a4",api_url:"http://api.demo.aguilarcarlos.com/content",base_url:"http://api.demo.aguilarcarlos.com",paths:{book:"books/{book_id}",books:"books",categories:"categories",category:"categories/{category_id}"}};return{set:function(t){angular.extend(e,t)},$get:function(){return e}}};angular.module("app").provider("AppConfig",[_AppConfig]);var homeController=function(e,t){e.bigData={},e.bigData.breakfast=!1,e.bigData.lunch=!1,e.bigData.dinner=!1,e.isCollapsed=!1,t.getAllBooks().then(function(e){console.log(e)})};angular.module("app").controller("HomeController",["$scope","BookService",homeController]),angular.module("app.routes.books",["ui.router"]).config(["$stateProvider",function(e){e.state("books",{url:"/books",abstract:!0,template:"<div ui-view></div>"}),e.state("books.index",{url:"",templateUrl:"partials/books"})}]),angular.module("app.routes.categories",["ui.router"]).config(["$stateProvider",function(e){e.state("categories",{url:"/categories",abstract:!0,template:"<div ui-view></div>"}),e.state("categories.index",{url:"",templateUrl:"partials/categories"})}]),angular.module("app.routes.home",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/",abstract:!0,template:"<div ui-view></div>"}),e.state("home.index",{url:"",templateUrl:"partials/home",controller:"HomeController"}),t.when("/",["$state",function(e){e.go("home.index")}])}]);var _BookService=function(e,t,o,r){return{getAllBooks:function(){return e.get(r.ensureUrl(o.base_url),{cache:!0}).then(function(e){return e.data},function(e){return e.data})}}};angular.module("app.services.BookService",[]).factory("BookService",["$http","$q","AppConfig","UtilService",_BookService]);var _ConfigurationService=function(e,t,o){return{getConfig:function(){return e.get(o.base_url,{cache:!0}).then(function(e){return e.data.data&&e.data.data.length?e.data.data[0]:e.data},function(e){return e.data})}}};angular.module("app.services.ConfigurationService",[]).factory("ConfigurationService",["$http","$q","AppConfig",_ConfigurationService]);var _UtilService=function(e,t,o){function r(e,t){t=!!t,e=e?[].concat(e):[];var o=e.join("/");if(!/^https?\s*:\s*\/\//.test(o)){var r=t?"https://":"http://";o=r+o}return o}return{ensureUrl:r}};angular.module("app.services.UtilService",[]).factory("UtilService",["$http","$q","AppConfig",_UtilService]);